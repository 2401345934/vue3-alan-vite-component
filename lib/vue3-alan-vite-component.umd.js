(function(p,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],t):(p=typeof globalThis<"u"?globalThis:p||self,t(p.Vue3SAlanVite={},p.Vue))})(this,function(p,t){"use strict";var _e=Object.defineProperty;var ye=(p,t,E)=>t in p?_e(p,t,{enumerable:!0,configurable:!0,writable:!0,value:E}):p[t]=E;var H=(p,t,E)=>(ye(p,typeof t!="symbol"?t+"":t,E),E);const E={class:"starry-sky-bg"},G={class:"stars"},J=t.defineComponent({name:"StarrySky"}),K=t.defineComponent({...J,props:{starsCount:{type:Number,default:()=>800},distance:{type:Number,default:()=>800}},setup(a){const e=a,i=t.ref();return t.onMounted(()=>{i.value.forEach(o=>{let r=.1+Math.random()*1,d=e.distance+Math.random()*300;o.style.transformOrigin=`0 0 ${d}px`,o.style.transform=`translate3d(0,0,-${d}px) rotateY(${Math.random()*360}deg) rotateX(${Math.random()*-50}deg) scale(${r},${r})`})}),(n,o)=>(t.openBlock(),t.createElementBlock("div",E,[t.createElementVNode("div",G,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(a.starsCount,r=>(t.openBlock(),t.createElementBlock("div",{key:r,class:"star",ref_for:!0,ref_key:"star",ref:i}))),128))])]))}}),be="",C=(a,e)=>{const i=a.__vccOpts||a;for(const[n,o]of e)i[n]=o;return i},M=C(K,[["__scopeId","data-v-b65fb403"]]);M.install=a=>{a.component(M.name,M)};class Q{constructor(){this.duration=0,this.maxD=15,this.count=15,this.gumVideo=document.querySelector("#gum"),this.gumVideo2=document.querySelector("#gum2"),this.recordButton=document.querySelector("#record"),this.playButton=document.querySelector("#play"),this.downloadButton=document.querySelector("#download"),this.tEL=document.getElementById("tEl");const e={audio:!0,video:{facingMode:"user",width:400,height:400,frameRate:60}};location.protocol==="https:"||location.hostname==="localhost"||(alert("getUserMedia() 必须在https或localhost下使用"),location.protocol="HTTPS"),this.recordButton.onclick=()=>this.toggleRecording(),this.playButton.onclick=()=>this.play(),this.downloadButton.onclick=()=>this.download(),this.gumVideo2.width=e.video.width,this.gumVideo2.height=e.video.height,this.getUserMedia(e,n=>{this.recordButton.disabled=!1,this.stream=n,this.gumVideo.srcObject=n},n=>{n.message==="Permission denied"&&alert("您已经禁止使用摄像头，请到设置-通用-微信存储空间-管理微信存储空间-点击‘清理其他微信账号聊天数据’"),console.log("navigator.getUserMedia error: ",n)})}getUserMedia(e,i,n){const o=window.navigator;o.mediaDevices&&o.mediaDevices.getUserMedia?o.mediaDevices.getUserMedia(e).then(i).catch(n):o.webkitGetUserMedia?o.webkitGetUserMedia(e,i,n):o.mozGetUserMedia?o.mozGetUserMedia(e,i,n):o.getUserMedia&&o.getUserMedia(e,i,n)}toggleRecording(){const e=this.tEL;this.recordButton.textContent==="开始录制"?(e.innerHTML="",this.startRecording(),clearInterval(this.intervalId),e.innerHTML="剩余时间："+this.count+"秒",this.count--,this.intervalId=setInterval(()=>{e.innerHTML="剩余时间："+this.count+"秒",this.count<=0?(clearInterval(this.intervalId),this.duration=this.maxD-this.count,this.count=this.maxD,this.stopRecording(),this.recordButton.textContent="开始录制",this.downloadButton.disabled=!1,this.playButton.disabled=!1):this.count--},1e3)):(clearInterval(this.intervalId),this.duration=this.maxD-this.count,this.count=this.maxD,this.stopRecording(),this.recordButton.textContent="开始录制",this.playButton.disabled=!1,this.downloadButton.disabled=!1)}startRecording(){const e=!!(/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent));this.recordedBlobs=[];const i={audioBitsPerSecond:128e3,videoBitsPerSecond:25e5,mimeType:e?"video/mp4":"video/webm"};try{this.mediaRecorder=new MediaRecorder(this.stream,i)}catch(n){alert("MediaRecorder创建失败: "+n+". mimeType: "+i.mimeType);return}this.recordButton.textContent="结束录制",this.downloadButton.disabled=!0,this.playButton.disabled=!0,this.mediaRecorder.ondataavailable=n=>{n.data&&n.data.size>0&&this.recordedBlobs.push(n.data)},this.mediaRecorder.onstop=n=>{console.log("Recorder stopped: ",n)},this.mediaRecorder.start(10)}stopRecording(){tEl.innerHTML="录制完成",this.mediaRecorder.stop()}download(){const e=new Blob(this.recordedBlobs,{type:"video/mp4"}),i=document.createElement("a");i.setAttribute("download",Date.now()+".mp4"),i.href=URL.createObjectURL(e),i.click()}play(){const{recordedBlobs:e,gumVideo2:i}=this,n=new Blob(e,{type:"video/mp4"}),o=parseInt(n.size/1024);let r="";o<1024?r=o+"KB":r=(o/1024).toFixed(2)+"MB",alert("播放时长："+this.duration+"秒, 大小："+r);const d=URL.createObjectURL(n);i.style.display="",i.src=d}}function Z(a,e,i){let n,o,r,d,l=0;i=i||{};let s=function(){let c=new Date().getTime();l=i.leading===!1?0:c,n=null,d=a.apply(o,r),n||(o=r=null)};return function(){o=this,r=arguments;let c=new Date().getTime();!l&&i.leading===!1&&(l=c);let f=e-(c-l);return f<=0||f>e?(clearTimeout(n),n=null,l=c,d=a.apply(o,r),n||(o=r=null)):!n&&i.trailing!==!1&&(n=setTimeout(s,f)),d}}const j=()=>{const a=document.documentElement.scrollTop||document.body.scrollTop;a>0&&(window.requestAnimationFrame(j),window.scrollTo(0,a-a/8))},tt=(a=window)=>({x:a.pageXOffset!==void 0?a.pageXOffset:a.scrollLeft,y:a.pageYOffset!==void 0?a.pageYOffset:a.scrollTop});class et{constructor(e){if(this.container=document.querySelector(e.container),!this.container)throw Error("no container");this.container.style.overflow="hidden",this.container.style.display="flex",this.rollHeight=parseInt(getComputedStyle(this.container).height)||30,this.container.style.height=this.rollHeight+"px"}roll(e){this.initDigitEle(e),[...this.container.querySelectorAll(".single-num")].forEach((n,o)=>{let d=Number(this.numberArr[o]);0>=d&&(d=d+10);let l=0;const s=document.createDocumentFragment();for(;d>=l;){const c=document.createElement("div");c.innerHTML=l%10,l++,s.appendChild(c)}n.innerHTML="",n.appendChild(s),n.style.cssText+="-webkit-transition-duration:0s;-webkit-transform:translateY(0)",setTimeout(()=>{n.style.cssText+=`-webkit-transition-duration:1s;-webkit-transform:translateY(${-(d-0)*this.rollHeight}px);`},50)})}initDigitEle(e){const i=e.toString().split(""),n=document.createDocumentFragment();i.forEach(o=>{const r=document.createElement("div");/[0-9]/.test(o)?(r.className="single-num",r.style.height=this.rollHeight+"px",r.style.lineHeight=this.rollHeight+"px"):(r.innerHTML=o,r.className="no-move",r.style.verticalAlign="bottom"),n.appendChild(r)},[]),this.container.innerHTML="",this.container.appendChild(n),this.numberArr=i.filter(o=>/[0-9]/.test(o))}}function nt(){const a=Math.floor(Math.random()*256),e=Math.floor(Math.random()*256),i=Math.floor(Math.random()*256);return`rgb(${a},${e},${i})`}let ot=class{constructor(e){this.images={},this.bl=2,this.cvs=e.el,this.bl=e.bl,this.ctx=this.cvs.getContext("2d"),this.cvs.width=this.cvs.width*this.bl,this.cvs.height=this.cvs.height*this.bl,this.renderList=e.renderList,this.draw()}async draw(){const{ctx:e,renderList:i}=this,n=i.filter(o=>o.type==="image").map(o=>o.src);await this.loadImgs(n),i.forEach(o=>{o.align&&(e.textAlign=o.align),o.type==="image"?(e.beginPath(),e.save(),o.clipCircle&&(e.lineWidth=o.clipLineWidth,e.strokeStyle=o.clipStrokeStyle,e.arc((o.x+o.width/2)*this.bl,(o.y+o.width/2)*this.bl,o.width/2*this.bl,0,Math.PI*2),e.stroke(),e.clip()),e.drawImage(this.images[o.src],o.x*this.bl,o.y*this.bl,o.width*this.bl,o.height*this.bl),e.restore()):o.type==="text"&&(e.fillStyle=o.fillStyle,e.font=`${o.fontSize*this.bl}px 宋体`,e.fillText(o.text,o.x*this.bl,o.y*this.bl))})}async loadImgs(e){for(let i=0;i<e.length;i++)await this.loadImg(e[i])}async loadImg(e){return new Promise((i,n)=>{const o=new Image;o.src=e,o.onload=()=>{this.images[e]=o,i(o)}})}};const it=Z,st=tt,at=j,lt=et,rt=nt,ct=Q,dt=ot,ht=t.defineComponent({name:"DigitalScroll"}),mt=t.defineComponent({...ht,props:{targetNumber:{type:Number,default:()=>300},targetClass:{type:String,default:()=>"digital-scroll"}},setup(a){const e=a;return t.onMounted(()=>{new lt({container:"#digital-scroll"}).roll(e.targetNumber)}),(i,n)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(a.targetClass),id:"digital-scroll"},null,2))}}),we="",v=C(mt,[["__scopeId","data-v-4ba702c7"]]);v.install=a=>{a.component(v.name,v)};const ut=["disabled"],gt=t.defineComponent({name:"AlanButton"}),ft=t.defineComponent({...gt,props:{type:{type:String,default:"default"},disabled:{type:Boolean,default:!1},block:{type:Boolean,default:!1}},setup(a){return(e,i)=>(t.openBlock(),t.createElementBlock("button",{disabled:a.disabled,class:t.normalizeClass(["btn",a.block&&"block",a.disabled&&"disabled",a.type])},[t.renderSlot(e.$slots,"default",{},void 0,!0)],10,ut))}}),ke="",F=C(ft,[["__scopeId","data-v-0a207a33"]]);F.install=a=>{a.component(F.name,Button)};const pt=["height","width"],_t=t.defineComponent({name:"CodeBackgroundWall"}),yt=t.defineComponent({..._t,props:{width:{type:Number,default:300},height:{type:Number,default:300},step:{type:Number,default:.02},color:{type:String,default:"green"}},setup(a){const e=a,i=t.ref(null);return t.onMounted(()=>{const n=i.value;n.width=e.width,n.height=e.height;const o=n.getContext("2d"),r="qwertyuiopasdfghjklzxcvbnm";o.font="14px 微软雅黑";const d=20,l={},s={},c={},f={},w=()=>{o.clearRect(0,0,e.width,e.height);for(let h=0;h<e.width;h+=d){o.beginPath();const k=o.createLinearGradient(0,0,0,e.height),y=.2*Math.random(),b=.8*Math.random(),u=e.step;s[h]=s[h]||-y,l[h]=l[h]||b,c[h]=c[h]||0,k.addColorStop(l[h]<0?0:l[h],"#000"),k.addColorStop(s[h]<0?0:s[h],e.color),k.addColorStop(c[h],"#000"),o.fillStyle=k;for(let g=0;g<e.height;g+=d)f[`${h}-${g}`]=f[`${h}-${g}`]||r[parseInt(Math.random()*r.length)],o.fillText(f[`${h}-${g}`],h,g);l[h]+=u,s[h]+=u,c[h]+=u,l[h]>1&&(l[h]=-b),s[h]>1&&(l[h]===-b?s[h]=-y:s[h]=1),c[h]>1&&(s[h]===-y&&l[h]===-b?c[h]=u:c[h]=1)}requestAnimationFrame(w)};w()}),(n,o)=>(t.openBlock(),t.createElementBlock("canvas",{ref_key:"cvs",ref:i,id:"cvs",height:a.height,width:a.width,class:"cvs"},null,8,pt))}}),xe="",B=C(yt,[["__scopeId","data-v-a79a1cda"]]);B.install=a=>{a.component(B.name,B)};const bt={key:0,class:"alan-back-top-content"},wt=t.defineComponent({name:"AlanBackTop"}),kt=t.defineComponent({...wt,props:{visibilityHeight:{type:Number,default:400}},emits:["goTopCompleteCb"],setup(a,{emit:e}){const i=a,n=!!t.useSlots().default,o=t.ref(!1);t.onMounted(()=>{window.addEventListener("scroll",it(()=>{d()},250))}),t.onBeforeUnmount(()=>{window.removeEventListener("scroll",()=>{})});const r=()=>{at(),e("goTopCompleteCb")},d=()=>{o.value=st().y>=i.visibilityHeight};return(l,s)=>(t.openBlock(),t.createElementBlock("div",{class:"alan-back-top",onClick:r},[t.createElementVNode("div",{class:t.normalizeClass(["warp",o.value&&"visibilityH"])},[n?t.createCommentVNode("",!0):(t.openBlock(),t.createElementBlock("div",bt," 返回 ")),t.renderSlot(l.$slots,"default",{},void 0,!0)],2)]))}}),Ce="",T=C(kt,[["__scopeId","data-v-1aa3adee"]]);T.install=a=>{a.component(T.name,T)};const Ee="",xt={name:"DynamicCard",props:{cardList:{type:Array,default:[]},shape:{type:Number,default:1},isKeyboardControl:{type:Boolean,default:!1}},data(){return{activeIndex:-1,cards:[]}},watch:{shape:function(){this.initData()}},created(){this.initData()},mounted(){this.isKeyboardControl&&window.addEventListener("keyup",this.keyboardDeal)},unmounted(){this.isKeyboardControl&&window.removeEventListener("keyup",this.keyboardDeal)},methods:{initData(){const a=new Array(this.cardList.length).fill(1);this.cards=a.map((e,i)=>this.computedStyle(i,this.cardList.length||0))},resetData(a){this.style=a,this.initData()},computedStyle(a,e){const i=this.shape,n={"--max-index":e+1,"--bg-color":rt(),"--card-index":a};if(i===0)n.left=`${16*++a}px`;else if(i===1){let o=0;a%2===1?o=e-a:o=a-e,n["--rotate-deg"]=o+"deg"}else{let d=48/e*a-48/2;n["--rotate-deg"]=d+"deg"}return n},addIndex(){this.activeIndex<this.cards.length-1?this.activeIndex++:this.activeIndex=0},lessIndex(){this.activeIndex>0?this.activeIndex--:this.activeIndex=this.cards.length-1},keyboardDeal(a){if(document.activeElement!==document.body)return;const e=new Map([[38,"addIndex"],[40,"lessIndex"],[37,"lessIndex"],[39,"addIndex"]]);e.get(a.keyCode)&&this[e.get(a.keyCode)]()}}},Ct={class:"AnimationCards"},Et={class:"demo-content"},St={class:"animation-cards-box"},Mt=["onClick"],vt={class:"text-span"};function Bt(a,e,i,n,o,r){return t.openBlock(),t.createElementBlock("div",Ct,[t.createElementVNode("div",Et,[t.createElementVNode("div",St,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.cards,(d,l)=>(t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["animation-card",{"is-active":o.activeIndex===l,"is-clutter":!!i.shape,"is-list":!i.shape}]),key:l,style:t.normalizeStyle(d),onClick:s=>o.activeIndex=o.activeIndex===l?-1:l},[t.createElementVNode("span",vt,t.toDisplayString(i.cardList[l].text),1)],14,Mt))),128))])])])}const I=C(xt,[["render",Bt],["__scopeId","data-v-24fe0273"]]);I.install=a=>{a.component(I.name,I)};const Tt={class:"camera_outer"},It=["width","height"],$t=["width","height"],Dt={key:0,class:"img_bg_camera"},Nt=t.createElementVNode("h2",null,"效果预览",-1),Vt=["src"],Pt={class:"button"},Lt=t.defineComponent({name:"TakingPictures"}),$=Object.assign(Lt,{props:{autoGetCompetence:{type:Boolean,default:!1}},setup(a){const e=a,i=t.reactive({videoWidth:250,videoHeight:350,imgSrc:"",thisCancas:null,thisContext:null,thisVideo:null,openVideo:!1});t.onMounted(()=>{e.autoGetCompetence&&n()});const n=()=>{i.thisCancas=document.getElementById("canvasCamera"),i.thisContext=i.thisCancas.getContext("2d"),i.thisVideo=document.getElementById("videoCamera"),i.thisVideo.style.display="block",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(l){var s=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return s?new Promise(function(c,f){s.call(navigator,l,c,f)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});const d={audio:!1,video:{width:i.videoWidth,height:i.videoHeight,transform:"scaleX(-1)"}};navigator.mediaDevices.getUserMedia(d).then(function(l){"srcObject"in i.thisVideo?i.thisVideo.srcObject=l:i.thisVideo.src=window.URL.createObjectURL(l),i.thisVideo.onloadedmetadata=function(s){i.thisVideo.play()}}).catch(l=>{console.log(l)})},o=()=>{i.thisContext.drawImage(i.thisVideo,0,0,i.videoWidth,i.videoHeight);const d=i.thisCancas.toDataURL("image/png");i.imgSrc=d},r=()=>{i.thisVideo.srcObject.getTracks()[0].stop()};return(d,l)=>(t.openBlock(),t.createElementBlock("div",Tt,[t.createElementVNode("video",{id:"videoCamera",width:i.videoWidth,height:i.videoHeight,autoplay:""},null,8,It),t.createElementVNode("canvas",{style:{display:"none"},id:"canvasCamera",width:i.videoWidth,height:i.videoHeight},null,8,$t),i.imgSrc?(t.openBlock(),t.createElementBlock("div",Dt,[Nt,t.createElementVNode("img",{src:i.imgSrc,alt:"",class:"tx_img"},null,8,Vt)])):t.createCommentVNode("",!0),t.createElementVNode("div",Pt,[t.createElementVNode("button",{onClick:l[0]||(l[0]=s=>n()),type:"primary"},"打开摄像头"),t.createElementVNode("button",{onClick:l[1]||(l[1]=s=>r()),type:"warning"},"关闭摄像头"),t.createElementVNode("button",{onClick:l[2]||(l[2]=s=>o()),type:"success"},"拍照")])]))}});$.install=a=>{a.component($.name,$)};const Se="",q=a=>(t.pushScopeId("data-v-0e9f2553"),a=a(),t.popScopeId(),a),Rt={class:"container flex-row j_c"},Ft={class:"container-box"},At={class:"box-lines"},Wt={class:"left"},Ht={class:"right"},Ut={class:"box-pan"},Ot=q(()=>t.createElementVNode("div",{class:"box-shadow"},null,-1)),Yt={class:"bottom-center"},jt={class:"container-title"},qt=q(()=>t.createElementVNode("text",null,"C",-1)),zt=t.defineComponent({name:"TherMometer"}),D=C(Object.assign(zt,{props:{show:{type:Boolean,default:!1},data:{type:Object,default:()=>{},required:!0}},setup(a){const e=a;let i=parseInt(e.data.max)/4,n=[],o=parseInt(e.data.value)/parseInt(e.data.max),r=0;parseInt(e.data.value)>parseInt(e.data.warn)&&(r=(parseInt(e.data.value)-parseInt(e.data.warn))/parseInt(e.data.max));for(let d=0;d<5;d++)n.unshift(i*d);return(d,l)=>(t.openBlock(),t.createElementBlock("section",Rt,[t.createElementVNode("div",Ft,[t.createElementVNode("div",At,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(n),(s,c)=>(t.openBlock(),t.createElementBlock("div",{key:c,class:"line-item flex-row j_b"},[t.createElementVNode("div",Wt,t.toDisplayString(s),1),t.createElementVNode("div",Ht,t.toDisplayString(s),1)]))),128))]),t.createElementVNode("div",Ut,[Ot,t.createElementVNode("div",{class:t.normalizeClass(["bottom-circle",a.show&&(a.data.value>=0?"active":"trans")])},null,2),t.withDirectives(t.createElementVNode("div",Yt,[t.createElementVNode("div",{class:t.normalizeClass(["active",t.unref(o)>=.94&&"br",a.show&&"trans"]),style:t.normalizeStyle({"--per":t.unref(o)<1?t.unref(o):1})},[t.withDirectives(t.createElementVNode("div",{class:t.normalizeClass(["bottom-warn",t.unref(o)>=.94&&"br"]),style:t.normalizeStyle({"--per":t.unref(r)<1?t.unref(r):1})},null,6),[[t.vShow,a.data.value>a.data.warn]])],6)],512),[[t.vShow,a.data.value>=0]])])]),t.createElementVNode("div",jt,[t.createTextVNode(t.toDisplayString(a.data.value)+"°",1),qt])]))}}),[["__scopeId","data-v-0e9f2553"]]);D.install=a=>{a.component(D.name,D)};const Xt={id:"canvas"},Gt=t.defineComponent({name:"YuanWar"}),N=t.defineComponent({...Gt,props:{width:{type:Number,default:()=>800},height:{type:Number,default:()=>800}},setup(a){const e=a;return t.onMounted(()=>{const i=document.getElementById("canvas"),n=i.getContext("2d"),o=e.width,r=e.height;i.height=r,i.width=o;const d=(u,g)=>Math.sqrt(Math.pow(u.x-g.x,2)+Math.pow(u.y-g.y,2))<u.radius+g.radius;function l(u,g,_,m,x){n.beginPath(),n.arc(u,g,_,0,2*Math.PI),n.shadowColor=x?m:"",n.shadowBlur=x?_:0,n.fillStyle=m,n.fill()}class s{constructor(){this.hp=100,this.x=200,this.y=200,this.color="purple"}draw(){l(this.x,this.y,16,this.color,!0)}}class c{constructor(g){this.angle=g,this.damage=3,this.x=200,this.y=200,this.speed=4,this.state=1,this.color="yellow",this.radius=4}move(){this.x+=Math.cos(this.angle*Math.PI/180)*this.speed,this.y+=Math.sin(this.angle*Math.PI/180)*this.speed}draw(){this.state&&l(this.x,this.y,this.radius,this.color,!0)}intersectionDetection(g){const _=g.find(m=>m.state&&d(m,this));_&&(this.state=0,_.hurt(this))}}class f{constructor(){this.x=-10,this.y=200,this.speed=.2,this.color="red",this.state=1,this.radius=6,this.hp=3}draw(){this.state&&l(this.x,this.y,this.radius,this.color,!0)}move(){this.x+=this.speed}hurt(g){this.hp-=g.damage,this.hp<=0&&(this.state=0)}}const w=(u,g)=>{const _=Math.sqrt(u*u+g*g),m=Math.asin(g/_)*180/Math.PI;return+(u>0?m:180-m).toFixed(2)};class h{constructor(){this.angle=0,this.x=0,this.y=0,this.moveHandler=this._moveHandler.bind(this)}_moveHandler(g){const _=i.getClientRects()[0],m=g.pageX-(_==null?void 0:_.x),x=g.pageY-(_==null?void 0:_.y);this.x=m,this.y=x,this.angle=w(m-200,x-200)}on(){document.addEventListener("mousemove",this.moveHandler)}off(){document.removeEventListener("mousemove",this.moveHandler)}}const k=30,y=300;({bulletCD:0,enemyCD:0,start(){this.king=new s,this.enemies=[],this.bullets=[],this.mouse=new h,this.mouse.on(),this.loop()},loop(){requestAnimationFrame(()=>this.loop()),this.draw(),this.move(),this.intersectionDetection(),this.cd()},cd(){this.bulletCD--<1&&(this.bullets.push(new c(this.mouse.angle)),this.bulletCD=k),this.enemyCD--<1&&(this.enemies.push(new f),this.enemyCD=y)},intersectionDetection(){this.bullets.forEach(u=>{u.intersectionDetection(this.enemies)})},draw(){n.clearRect(0,0,o,r),this.king.draw(),this.enemies.forEach(u=>u.draw()),this.bullets.forEach(u=>u.draw())},move(){this.enemies.forEach(u=>u.move()),this.bullets.forEach(u=>u.move())}}).start()}),(i,n)=>(t.openBlock(),t.createElementBlock("canvas",Xt))}});N.install=a=>{a.component(N.name,N)};const Jt=["width","height"],Kt=t.defineComponent({name:"Clocks"}),A=Object.assign(Kt,{props:{width:{type:Number,default:500},height:{type:Number,default:500},backgroundColor:{type:String,default:"#03303a"}},setup(a){const e=a;return t.onMounted(()=>{let i=document.getElementById("canvas"),n=i.getContext("2d");n.strokeStyle="#7FFFD4",n.lineWidth=3,n.shadowBlur=5,n.shadowColor="#7FFFD4";let o=0,r=0,d=0,l="",s=i.getContext("2d"),c=i.getContext("2d");s.lineWidth=1,s.shadowBlur=0,s.shadowColor="#F0F8FF";function f(){_(),u(),h(),k(),y(),b(),w()}function w(){c.save(),c.translate(250,250),c.beginPath(),c.fillStyle="#7FFFD4",c.font="30px Helvetica";for(let m=0;m<60;m++)if(m%5==0){c.lineWidth=5;let x=Math.sin(m*6*2*Math.PI/360)*195,S=-Math.cos(m*6*2*Math.PI/360)*195;c.fillText(m==0?12:m/5,m==0?-15:x-10,m==0?-185:m<=30?S+5:S+10)}c.stroke(),c.closePath(),c.restore()}function h(){s.save(),s.translate(250,250),s.rotate(o/60*2*Math.PI),s.beginPath(),s.strokeStyle="#AFEEEE",s.lineWidth=1,s.lineJoin="bevel",s.miterLimit=10,s.moveTo(0,30),s.lineTo(3,-175),s.lineTo(13,-165),s.lineTo(0,-210),s.lineTo(-13,-165),s.lineTo(-3,-175),s.lineTo(0,30),s.stroke(),s.closePath(),s.restore()}function k(){s.save(),s.translate(250,250),s.rotate(r*6*Math.PI/180),s.beginPath(),s.strokeStyle="#20B2AA",s.lineWidth=1,s.lineJoin="bevel",s.miterLimit=10,s.moveTo(0,20),s.lineTo(3,-145),s.lineTo(10,-135),s.lineTo(0,-180),s.lineTo(-10,-135),s.lineTo(-3,-145),s.lineTo(0,20),s.stroke(),s.closePath(),s.restore()}function y(){s.save(),s.translate(250,250),s.rotate(d*30*Math.PI/180),s.beginPath(),s.strokeStyle="#87CEFA",s.lineWidth=1,s.lineJoin="bevel",s.miterLimit=10,s.moveTo(0,20),s.lineTo(3,-110),s.lineTo(10,-100),s.lineTo(0,-150),s.lineTo(-10,-100),s.lineTo(-3,-110),s.lineTo(0,20),s.stroke(),s.closePath(),s.restore()}function b(){s.beginPath(),s.fillStyle="black",s.arc(250,250,3,0,2*Math.PI),s.stroke()}function u(){for(let m=0;m<60;m++)s.save(),s.translate(250,250),s.rotate(m/60*2*Math.PI),s.beginPath(),s.strokeStyle="#7FFFD4",s.moveTo(0,-250),s.lineWidth=m%5==0?5:2,s.lineTo(0,-230),s.stroke(),s.closePath(),s.restore();s.beginPath(),s.arc(250,250,230,0,2*Math.PI),s.stroke()}function g(m){let x,S=Math.PI/180;return m==0?x=270*S:x=m*S,x}function _(){let m=new Date,x=m.toLocaleDateString(),S=m.toLocaleTimeString(),me=m.getDay(),ue=m.getHours(),ge=m.getMinutes(),fe=m.getSeconds(),pe=m.getMilliseconds(),U=fe+pe/1e3,O=ge+U/60,X=ue+O/60;switch(o=U,r=O,d=X,me){case 1:l="一";break;case 2:l="二";break;case 3:l="三";break;case 4:l="四";break;case 5:l="五";break;case 6:l="六";break;case 0:l="日";break}const Y=n.createRadialGradient(250,250,5,250,250,300);Y.addColorStop(0,"#03303a"),Y.addColorStop(1,"#03303a"),n.fillStyle=Y,n.fillRect(0,0,e.width,e.height),n.beginPath(),n.strokeStyle="#87CEFA",n.arc(250,250,215,g(0),g(X*30-90)),n.stroke(),n.beginPath(),n.strokeStyle="#20B2AA",n.arc(250,250,220,g(0),g(O*6-90)),n.stroke(),n.beginPath(),n.strokeStyle="#AFEEEE",n.arc(250,250,225,g(0),g(U*6-90)),n.stroke(),n.font="25px Helvetica Bold",n.fillStyle="#7FFFD4",n.fillText(x+"/星期"+l,150,230),n.font="23px Helvetica Bold",n.fillStyle="#7FFFD4",n.fillText(S,190,280)}setInterval(f,60)}),(i,n)=>(t.openBlock(),t.createElementBlock("canvas",{id:"canvas",width:a.width,height:a.height},null,8,Jt))}});A.install=a=>{a.component(A.name,Button)};const ve="",Qt={class:"layui-body"},Zt=[t.createStaticVNode('<div id="container" data-v-56e5dfd0><video id="gum" autoplay muted data-v-56e5dfd0></video><div class="controls" data-v-56e5dfd0><button id="record" disabled data-v-56e5dfd0>开始录制</button><button id="play" disabled data-v-56e5dfd0>播放</button><button id="download" disabled data-v-56e5dfd0>下载</button><span id="tEl" data-v-56e5dfd0></span></div><video id="gum2" controls="controls" autoplay style="display:none;" data-v-56e5dfd0></video></div>',1)],te=t.defineComponent({name:"VideoRecording"}),V=C(Object.assign(te,{setup(a){return t.onMounted(()=>{new ct}),(e,i)=>(t.openBlock(),t.createElementBlock("div",Qt,Zt))}}),[["__scopeId","data-v-56e5dfd0"]]);V.install=a=>{a.component(V.name,V)};const ee=t.defineComponent({name:"Spotlight"}),W=Object.assign(ee,{props:{width:{type:Number,default:500},height:{type:Number,default:500}},setup(a){const e=a;return t.onMounted(()=>{document.querySelector("style").append(`canvas {
        position: fixed;
        left:0;
        top: 0;
        z-index: 9999;
        pointer-events: none;
    }`),document.body.appendChild(document.createElement("canvas"));const i=document.querySelector("canvas"),n=i.getContext("2d");i.width=e.width,i.height=e.height;const o={x:0,y:0,r:50};document.onmousemove=d=>{o.x=d.clientX,o.y=d.clientY,r()};const r=()=>{n.beginPath(),n.clearRect(0,0,i.width,i.height);var d=n.createRadialGradient(o.x,o.y,o.r,o.x,o.y,o.r*3);d.addColorStop(0,"#fff"),d.addColorStop(1,"rgba(0, 0, 0, 0.5)"),n.fillStyle=d,n.fillRect(0,0,i.width,i.height)};r()}),(i,n)=>null}});W.install=a=>{a.component(W.name,Button)};const ne=["width","height"],oe=t.defineComponent({name:"DrawImage"}),ie=t.defineComponent({...oe,props:{width:{type:Number,default:()=>500},height:{type:Number,default:()=>500},bl:{type:Number,default:()=>5},renderList:{type:Array,default:()=>[]}},setup(a){const e=a,i=t.ref("");t.onMounted(()=>{new dt({el:i.value,bl:e.bl,renderList:e.renderList})});const n=()=>{const o=document.createElement("a");o.href=i.value.toDataURL("image/png"),o.setAttribute("download","canvas.png"),o.click()};return(o,r)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("canvas",{ref_key:"cvs",ref:i,id:"cvs",width:a.width,height:a.height,style:t.normalizeStyle(`width:${a.width}px`)},null,12,ne),t.createElementVNode("div",null,[t.createElementVNode("button",{onClick:r[0]||(r[0]=d=>n())},"下载图片")])],64))}}),Ie="",P=C(ie,[["__scopeId","data-v-e12a0a84"]]);P.install=a=>{a.component(P.name,P)};const se=t.defineComponent({name:"CanvasAutograph"}),L=Object.assign(se,{props:{config:{type:Object,default:{width:400,height:200,lineWidth:3,strokeStyle:"red",lineCap:"round",lineJoin:"round"}}},setup(a){const e=a,i=t.ref("null");let n=null,o=null;t.onMounted(()=>{var h,k;n=i.value,n.width=(h=e.config)==null?void 0:h.width,n.height=(k=e.config)==null?void 0:k.height,n.style.border="1px solid #000",o=n.getContext("2d"),o.fillStyle="transparent",o.fillRect(0,0,e.config.width,e.config.height);const l={offsetX:0,offsetY:0,endX:0,endY:0},s=/Mobile|Android|iPhone/i.test(navigator.userAgent),c=y=>{const{offsetX:b,offsetY:u,pageX:g,pageY:_}=s?y.changedTouches[0]:y;l.offsetX=b,l.offsetY=u,l.endX=g,l.endY=_,o.beginPath(),o.lineWidth=e.config.lineWidth,o.strokeStyle=e.config.strokeStyle,o.lineCap=e.config.lineCap,o.lineJoin=e.config.lineJoin,o.moveTo(l.endX,l.endY),window.addEventListener(s?"touchmove":"mousemove",f)},f=y=>{const{pageX:b,pageY:u}=s?y.changedTouches[0]:y;l.endX=b,l.endY=u,o.lineTo(b,u),o.stroke()},w=()=>{o.closePath(),window.removeEventListener("mousemove",f)};window.addEventListener(s?"touchstart":"mousedown",c),window.addEventListener(s?"touchend":"mouseup",w)});const r=()=>{o.clearRect(0,0,e.config.width,e.config.height)},d=()=>{n.toBlob(l=>{const s=Date.now().toString(),c=document.createElement("a");c.download=`${s}.png`,c.href=URL.createObjectURL(l),c.click(),c.remove()})};return(l,s)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[t.createElementVNode("canvas",{ref_key:"refs",ref:i},null,512),t.createElementVNode("div",null,[t.createElementVNode("button",{onClick:s[0]||(s[0]=c=>r())},"取消"),t.createElementVNode("button",{onClick:s[1]||(s[1]=c=>d())},"保存")])],64))}});L.install=a=>{a.component(L.name,L)};const ae=t.createElementVNode("button",null,"点击开始",-1),le={ref:"canvas",class:"canvas"},re=t.defineComponent({name:"RedPacketRain"}),R=Object.assign(re,{setup(a){return t.onMounted(()=>{const e=document.querySelector(".canvas");e.width="400",e.height="400";const i=e.width;if(e.getContext){let d=function(){let c=new o(1,3,s(0,i-50),0,e.clientWidth,e.clientHeight);c.draw(),r.push(c),setInterval(()=>{let f=new o(1,3,s(0,i-50),0,e.clientWidth,e.clientHeight);f.draw(),r.push(f)},500),l()},l=function(){n.clearRect(0,0,e.clientWidth,e.clientHeight);for(let c=0;c<r.length;c++)r[c].y>=e.height?(r.splice(c,1),r[c].move(),r[c].draw()):(r[c].move(),r[c].draw());window.requestAnimationFrame(l)},s=function(c,f){return Math.ceil(Math.random()*(f-c)+c)};const n=e.getContext("2d");class o{constructor(f,w,h,k,y,b,u=50,g=50,_="red"){this.speedY=w,this.speedX=f,this.x=h,this.y=k,this.boxWidth=y,this.boxHeight=b,this.width=u,this.height=g,this.color=_}draw(){n.strokeStyle=this.color,n.strokeRect(this.x,this.y,this.width,this.height)}move(){this.y+=this.speedY}}let r=[];document.querySelector("button").onclick=d,document.querySelector(".canvas").onclick=function(c){const f=c.clientX-e.offsetLeft,w=c.clientY-e.offsetTop;for(let h=0;h<r.length;h++)if(r[h].x<=f&&r[h].x+r[h].width>=f&&r[h].y<=w&&r[h].y+r[h].height>=w){console.log(r[h]),r[h].color="green";continue}}}}),(e,i)=>(t.openBlock(),t.createElementBlock(t.Fragment,null,[ae,t.createElementVNode("canvas",le," 浏览器版本较低 ",512)],64))}});R.install=a=>{a.component(R.name,R)};class ce{constructor(e,i){H(this,"waterTexts",[]);H(this,"needAddWaterTextElementIds",null);H(this,"saveNeedAddWaterMarkElement",[]);e&&e.length!=0?this.waterTexts=e:this.waterTexts=["水印文字哈哈哈哈","2022-12-08"],this.needAddWaterTextElementIds=Array.isArray(i)?i:[i]}startWaterMark(){const e=this;this.needAddWaterTextElementIds?this.needAddWaterTextElementIds.forEach(i=>{let n=document.getElementById(i);e.saveNeedAddWaterMarkElement.push(n)}):this.saveNeedAddWaterMarkElement=Array.from(document.getElementsByTagName("img")),this.saveNeedAddWaterMarkElement.forEach(i=>{e.startWaterMarkToElement(i)})}startWaterMarkToElement(e){let i=e.nodeName;["IMG","img"].indexOf(i)!=-1?this.addWaterMarkToImg(e):this.addWaterMarkToNormalEle(e)}async addWaterMarkToImg(e){e.complete||await new Promise(i=>{e.onload=i}),this.addWaterMarkToNormalEle(e)}addWaterMarkToNormalEle(e){const i=this;let n=document.createElement("canvas");n.width=e.width?e.width:e.clientWidth,n.height=e.height?e.height:e.clientHeight;let o=n.getContext("2d"),d=Math.max(n.height,n.width)/25;o.font=d+'px "微软雅黑"',o.fillStyle="rgba(195,195,195,1)",o.textAlign="left",o.textBaseline="top",o.save();let l=-Math.PI/10,s=n.height*Math.tan(Math.abs(l)),c=(n.width-s)*Math.tan(Math.abs(l));o.translate(-s/2,c/2),o.rotate(l);let f=0,w=0,h=d/2;for(;w<n.height;){let k=0;for(;f<n.width;){let y=0,b=0;this.waterTexts.forEach((u,g)=>{b+=g*(h+d);let _=i.drawWater(o,u,f,w+b),m=_.x+_.width;y=m>y?m:y,k=b}),f=y+20}f=0,w+=k+(h+d+n.height/5)}o.restore(),this.addCanvas(n,e)}drawWater(e,i,n,o){e.fillText(i,n,o);let r=e.measureText(i),d=r.width,l=r.height;return{x:n,y:o,width:d,height:l}}addCanvas(e,i){let n=document.createElement("div");i.warterMark=n,this.resetCanvasPosition(i),n.appendChild(e),i.parentElement.insertBefore(n,i)}resetCanvasPosition(e){e.warterMark&&(e.parentElement.style.cssText="position: relative;",e.warterMark.style.cssText="position: absolute;top: 0px;left: 0px;pointer-events:none")}}const z={WaterMark:ce,useToggleFullscreen:({fullscreenFlag:a,className:e})=>{const i=document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen,n=e?document.querySelector(`.${e}`):document.body;if(n&&!a){let o=n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen;o&&o.call(n)}if(document&&i&&a){let o=document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen;o&&o.call(document)}}},De="",de=[M,v,F,B,T,D,N,I,$,V,A,W,P,L,R],he={install:a=>{de.forEach(e=>{a.component(e.name,e)})},Utils:z};p.AlanBackTop=T,p.AlanButton=F,p.CanvasAutograph=L,p.Clocks=A,p.CodeBackgroundWall=B,p.DigitalScroll=v,p.DrawImage=P,p.DynamicCard=I,p.RedPacketRain=R,p.Spotlight=W,p.StarrySky=M,p.TakingPictures=$,p.TherMometer=D,p.Utils=z,p.VideoRecording=V,p.YuanWar=N,p.default=he,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
